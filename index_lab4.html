<!DOCTYPE html>
<html lang="pt-br">
<header>
    <h1>Laboratório 4 - Visão Computacional</h1>
  
    <hr />
  </header>
  
  <body>
    <h2>Integrantes</h2>
    <p>
        Gustavo da Silva Santos             RA: 11202131428<br>
        Henrique Vicente Ferraro Oliveira   RA: 11201721650<br>
        Igor Santana Arruda                 RA: 11201722737<br>
    </p>
    <hr />
    <h2>Data de realização dos experimentos</h2>
    <p>
        Os experimentos foram realizados nos dias 23/07/2024 e 30/07/2024
    </p>
    <hr />
    <h2>Data de publicação do relatório</h2>
    <p>
        O relatório foi publicado no dia 06/08/2024
    </p>
    <hr />

    <h2>Introdução</h2>
    <p>
        Neste relatório, apresentamos os resultados de um experimento destinado a medir a distância de objetos utilizando o mapa de disparidade gerado por uma 
        câmera estéreo. A tecnologia de câmeras estéreo tem se mostrado promissora em diversas aplicações, como navegação autônoma, realidade aumentada e monitoramento 
        de segurança, devido à sua capacidade de perceber profundidade e obter informações tridimensionais do ambiente.<br>
        O objetivo principal deste experimento foi avaliar a precisão e a eficácia da câmera estéreo na determinação das distâncias de objetos situados em diferentes 
        posições e cenários. Para isso, realizamos uma série de medições em um ambiente controlado, onde objetos com formas e tamanhos variados foram posicionados a 
        diferentes distâncias da câmera. Utilizando técnicas de processamento de imagem e análise de dados, geramos mapas de disparidade e, a partir deles, calculamos 
        as distâncias dos objetos.<br>>
        Através deste estudo, buscamos contribuir para o entendimento das capacidades e limitações das câmeras estéreo, fornecendo dados empíricos que possam apoiar 
        o desenvolvimento de aplicações práticas e melhorias tecnológicas na área de visão computacional.</p>
    <hr>
    <h2>Procedimentos experimentais, análise e discussão dos resultados</h2>
    <h3>1. Construção da Câmera Estereoscópica</h3>
    <p>
        A câmera estereoscópica foi construída durante a aula anterior, seguindo as instruções fornecidas. Foi necessário apenas ajustar ela, pois ao guardar as câmeras
         sairam do lugar.
    </p>

    <h3>2. Calibração Estéreo</h3>
    <p>
        Seguindo as instruções da seção "Step 2: Performing stereo calibration with fixed intrinsic parameters", realizamos a calibração estéreo. Este processo envolveu 
        a captura de 30 imagens em várias posições e orientações. Os parâmetros de calibração foram calculados e salvos pelo programa no arquivo "params_py.xml". 
        Estes parâmetros são cruciais para corrigir distorções e alinhar as duas câmeras corretamente.
    </p>

    <h3>3. Algoritmo Block Matching</h3>
    <p>
        Executamos o algoritmo Block Matching do OpenCV, ajustando seus parâmetros conforme as orientações da seção "Block Matching For Dense Stereo Correspondence".
         Utilizamos o programa "disparity_params_gui.py", que foi adaptado para ler o arquivo "params_py.xml" com os parâmetros de calibração da nossa câmera estéreo. 
         O mapa de disparidade resultante foi salvo pelo código no arquivo "depth_estmation_params_py.xml".
    </p>

    <h3>4. Mapa de Profundidade</h3>
    <p>
        Para obter o mapa de profundidade, seguimos as orientações da seção "From disparity map to depth map" da referência [3]. Utilizamos o programa 
        "disparity2depth_calib.py", adaptado para ler o arquivo "params_py.xml" e o mapa de disparidade do arquivo "depth_estmation_params_py.xml". 
        Este arquivo XML foi atualizado com novos valores de profundidade.
    </p>

    <h3>5. Medidas de Distância</h3>
    <p>
        Realizamos medidas de distância. Utilizamos o programa "obstacle_avoidance.py", adaptado para ler os arquivos "params_py.xml" e "depth_estmation_params_py.xml". 
        No entanto, enfrentamos dificuldades nesta etapa, pois o programa não conseguiu encontrar os objetos e quando encontrava não apresentava as medidas de distâncias. 
    </p>

    <h3>Análise de Erros e Possíveis Motivos</h3>
    <p>
        Durante a execução do passo iv, o programa "obstacle_avoidance.py" não conseguiu encontrar os objetos e quando encontrava não apresentava as medidas de distância.
         Existem alguns possíveis motivos para esse problema:
    </p>
    <ol>
        <li><strong>Parâmetros do Algoritmo Block Matching (Passo ii):</strong> Os parâmetros ajustados no algoritmo Block Matching podem não ter sido otimizados corretamente, 
        resultando em um mapa de disparidade de baixa qualidade, que naão encontrava os objetos. Isso poderia levar a erros na conversão de disparidade para profundidade ou ao 
        encontrar o objeto.</li>
        <li><strong>Calibração de Distância (Passo iii):</strong> A calibração realizada pode não ter sido precisa, resultando em parâmetros incorretos no arquivo 
        "params_py.xml". Se os parâmetros de calibração não forem precisos, a conversão de disparidade para profundidade será comprometida.</li>
    </ol>
    <hr />
    <h2>Conclusão</h2>
    <p>
        Neste experimento, buscamos medir a distância de objetos utilizando uma câmera estereoscópica e técnicas de processamento de imagens. A construção da câmera 
        e a calibração inicial foram realizadas com sucesso, seguindo os procedimentos estabelecidos nas referências. O algoritmo Block Matching foi executado e ajustado,
         permitindo a geração de um mapa de disparidade, que foi posteriormente convertido em um mapa de profundidade.<br>
        Apesar de termos seguido os procedimentos detalhadamente, enfrentamos dificuldades significativas durante a fase de medição de distância. O programa 
        "obstacle_avoidance.py" não conseguiu determinar as distâncias esperadas dos objetos testados. Identificamos dois possíveis motivos para essas falhas: 
        parâmetros inadequados no algoritmo Block Matching e imprecisões na calibração estéreo.<br>

        A análise dos resultados mostrou a necessidade de uma revisão cuidadosa dos parâmetros utilizados no algoritmo Block Matching e uma calibração mais precisa da 
        câmera estéreo. A precisão dos mapas de disparidade e profundidade depende diretamente dessas etapas, sendo fundamental garantir que os parâmetros estejam 
        otimizados e a calibração seja precisa para obter medições confiáveis.<br>
    
        Recomenda-se realizar ajustes nos parâmetros do algoritmo e repetir a calibração com maior rigor, utilizando técnicas e ferramentas adicionais se necessário.
         Os registros visuais obtidos durante o experimento podem servir como base para identificar e corrigir os erros encontrados, contribuindo para futuras tentativas 
        de medição de distância com maior precisão.<br>
        Em resumo, o experimento proporcionou insights valiosos sobre os desafios e complexidades envolvidos na utilização de câmeras estereoscópicas para medição de 
        distância. A experiência adquirida servirá como fundamento para melhorias nos próximos experimentos, visando alcançar resultados mais precisos e confiáveis.
    </p>
    <hr>
    <a href="../index.html">Voltar para a Página Inicial</a>
  </body>
  </html>
